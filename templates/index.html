{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2 class="text-center page-title">Drop your code, and get AI-generated comments added to it!</h2>

    <div class="card p-4 mb-3">
        <textarea id="codeInput" class="form-control" rows="6" placeholder="Paste or type your code here..."></textarea>
    </div>

    <div class="mb-3">
        <label>Detected Language:</label>
        <select id="languageSelect" class="form-select">
            <option value="auto">Auto Detect</option>
            <option value="python">Python</option>
            <option value="javascript">JavaScript</option>
            <option value="java">Java</option>
            <option value="c">C</option>
            <option value="cpp">C++</option>
            <option value="r">R</option>
        </select>
    </div>

    <div class="card p-4 mb-3">
        <input type="file" id="fileInput" class="form-control mb-3">
        <div class="dropzone p-3 border rounded text-center" ondrop="dropHandler(event)" ondragover="dragOverHandler(event)">
            Drag & Drop a file here
        </div>
    </div>

    <div class="progress mb-3" style="height: 20px;">
        <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;">0%</div>
    </div>

    <div class="text-center">
        <button class="btn btn-primary" onclick="processCode()">Generate Comments</button>
    </div>

    <div class="mt-4 text-center" id="outputContainer" style="display: none;">
        <h4>Commented Code:</h4>
        <pre><code id="commentedCode" class="hljs"></code></pre>
        <button class="btn btn-success" onclick="copyToClipboard()">Copy to Clipboard</button>
    </div>
</div>

{% endblock %}
